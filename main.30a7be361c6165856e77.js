(()=>{"use strict";const e=(()=>{let e={},t=!0,n="Buenos aires";function r(e,t){e.celsius={feelslike:e.feelslike_c,pressure:e.pressure_mb,temp:`${Math.round(e.temp_c)}°C`,wind:e.wind_kph},e.faren={feelslike:e.feelslike_f,pressure:e.pressure_in,temp:`${Math.round(e.temp_f)}°F`,wind:e.wind_mph},t||(e.celsius={...e.celsius,maxtemp:`${Math.round(e.day.maxtemp_c)}°C`,mintemp:`${Math.round(e.day.mintemp_c)}°C`},e.faren={...e.faren,maxtemp:`${Math.round(e.day.maxtemp_f)}°F`,mintemp:`${Math.round(e.day.mintemp_f)}°F`})}return{show_api:async function(t){try{const n=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=14eec2852bc740a5ac911631221703&q=${t}&days=10`,{mode:"cors"});return function(t){let n=t.forecast.forecastday[0],a=n.hour,i=t.location.localtime.split(" ")[1].split(":")[0];e.current={...t.current,...n,...t.location},e.hour=a,r(e.current,0),e.current.hour.forEach((e=>{r(e,1)}));let o=e.current.hour[i];o=function(e){return{celsius:{humidity:[e.humidity,"%"],"wind speed":[e.celsius.wind,"kph"],"wind direction":[e.wind_dir,""],"uv factor":[e.uv,""],rain:[e.chance_of_rain,"%"],"feels like":[e.celsius.feelslike,"°c"],pressure:[e.celsius.pressure,"hpa"],snow:[e.chance_of_snow,"%"]},faren:{humidity:[e.humidity,"%"],"wind speed":[e.faren.wind,"mph"],"wind direction":[e.wind_dir,""],"uv factor":[e.uv,""],rain:[e.chance_of_rain,"%"],"feels like":[e.faren.feelslike,"°f"],pressure:[e.faren.pressure,"in"],snow:[e.chance_of_snow,"%"]}}}(o),e.currentExtended={...o}}(await n.json()),e}catch(e){}},formatedResponse:e,getCelsius:()=>t,setCelsius:()=>t=!t,getLocation:()=>n,setLocation:e=>{n=e}}})();function t(e,t,n){let r=document.createElement(e);return void 0!==t&&r.classList.add(t),r.textContent=void 0!==n?n:"",r}const n={weatherSimpleTile:(e,n,r)=>{let a=e.celsius;r||(a=e.faren);let i=t("div","weatherContainer--Current__short"),o=t("div","container--weather__icon"),c=function(e){let t=document.createElement("img");return t.src=e,t}(e.condition.icon);if(n){let n=t("h2","weather--current__dayname",new Date(e.date).toLocaleDateString("en",{weekday:"long"})),r=document.querySelector(".weatherContainer--Current__dayname");r.innerHTML="",r.append(n);let s=t("h1","weather--current_degree",a.temp);o.append(c,s),i.append(o);let u=t("div","weather--current_range"),d=t("p","weather--current_max",`Max: ${a.maxtemp}`),l=t("p","weather--current_min",`Min: ${a.mintemp}`),m=t("p","weather--status",e.condition.text),p=t("div","container--weather__city"),h=t("h2","weather--city",`${e.name} - ${e.country}`);p.append(h,m),u.append(d,l),i.append(u),i.insertBefore(p,o)}else{let n=t("p","weather--current_degree",a.temp);o.append(c,n),i.append(o);let r=t("p","weather--current_hourtime",e.time);i.insertBefore(r,o)}return i},weatherExtendedInfo:e=>{let n=t("div","container--weather__ext"),r=t("h5","weather--ext_title",e[0].toUpperCase()),a=t("h5","weather--ext_data",`${Math.round(e[1][0])} ${e[1][1].toUpperCase()}`);return n.append(r,a),n}},r=()=>{e.show_api(e.getLocation()).then((t=>{if(void 0===t)return document.getElementById("searchbar").placeholder="No country found with that search",void(document.getElementById("searchbar").value="");let r=t.currentExtended.celsius;e.getCelsius()||(r=t.currentExtended.faren);const a=document.querySelector(".weatherContainer--Current");a.innerHTML="",a.append(n.weatherSimpleTile(t.current,1,e.getCelsius()));let i=document.querySelector(".current--forecast__container");i.innerHTML="",t.hour.forEach((r=>{new Date(`${r.time}`).getHours()>=new Date(`${t.current.localtime}`).getHours()&&(new Date(`${r.time}`).getHours()===new Date(`${t.current.localtime}`).getHours()?(r.time="Current",i.append(n.weatherSimpleTile(r,0,e.getCelsius()))):(r.time=r.time.split(" ")[1],i.append(n.weatherSimpleTile(r,0,e.getCelsius()))))}));let o=document.querySelector(".weatherContainer--Current__Extend");o.innerHTML="",Object.entries(r).forEach((e=>{o.append(n.weatherExtendedInfo(e))}))}))};r();document.querySelector(".trigger--temp__button").addEventListener("click",(t=>{let n=document.querySelector(".active");"animationRight"===n.style.animationName?n.style.animation="animationLeft 1s 1 forwards":n.style.animation="animationRight 1s 1 forwards",e.setCelsius(),r()}));document.getElementById("submitSearch").addEventListener("click",(()=>{let t=document.getElementById("searchbar").value;e.setLocation(t),r()}))})();